<head>
  <title>Location Watcher</title>
</head>

<body>
  <h3>Just grabbing your location cause demos are cool</h3>
  <script>
    function watchLocation() {
      if (!'geolocation' in navigator) {
        return;
      }

      navigator.geolocation.watchPosition((position) => {
        const headers = new Headers({
          'Content-Type': 'application/json',
        });
        const req = new Request({
          method: 'post',
          headers,
          body: {
            lat: position.coords.latitude,
            lng: position.coords.longitude,
          },
        });
        fetch(req).then((res) => {
          console.log(res);
        });
      });
    }

    watchLocation();
  </script>
</body>